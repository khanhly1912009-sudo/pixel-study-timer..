<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pixel Study Timer & Rewards üíé</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
:root {
  --pixel-font:'Press Start 2P',cursive;
  --bg-color:#87ceeb;
  --ground-color:#795548;
  --text-color:#333;
}
body {
  font-family:var(--pixel-font);
  background-color:var(--bg-color);
  color:var(--text-color);
  margin:0;
  padding:20px;
  display:flex;
  flex-direction:column;
  align-items:center;
  min-height:100vh;
  overflow-x:hidden;
  background-image:linear-gradient(to top,var(--ground-color) 150px,var(--bg-color) 150px);
}
#main-container {
  display:flex;
  flex-wrap:wrap;
  width:100%;
  max-width:1200px;
  gap:20px;
}
#youtube-player {
  flex:2;
  min-width:300px;
  border:4px solid #000;
  box-shadow:8px 8px 0px #000;
  padding:10px;
  background-color:#fff;
}
#youtube-frame {
  display:block;
  width:100%;
  aspect-ratio:16/9;
}
#video-selector {
  margin-top:10px;
  display:flex;
  gap:10px;
}
#video-selector input {
  flex:1;
  padding:5px;
  border:2px solid #000;
}
#video-selector button {
  padding:5px 10px;
  cursor:pointer;
  background-color:#2ecc71;
  color:#fff;
  border:none;
  box-shadow:2px 2px 0 #000;
}
#study-area {
  flex:1;
  min-width:280px;
  display:flex;
  flex-direction:column;
  gap:20px;
}
#timer-box,#reward-box {
  border:4px solid #000;
  box-shadow:8px 8px 0px #000;
  background-color:#f0f0f0;
  padding:20px;
  text-align:center;
}
#timer {
  font-size:1.8em;
  margin:15px 0;
  color:#e74c3c;
}
button {
  font-family:var(--pixel-font);
  background-color:#2ecc71;
  color:#fff;
  border:none;
  padding:10px 15px;
  margin:5px;
  cursor:pointer;
  border-radius:0;
  border:3px solid #000;
  box-shadow:4px 4px 0 #000;
  transition:all 0.1s;
}
button:hover:not(:disabled) {
  box-shadow:2px 2px 0 #000;
  transform:translate(2px,2px);
  background-color:#27ae60;
}
button:disabled {
  background-color:#bdc3c7;
  cursor:not-allowed;
  box-shadow:4px 4px 0 #555;
}
#pixel-scene {
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  height:150px;
  z-index:-1;
}
#pixel-scene::before {
  content:'';
  position:absolute;
  bottom:0;
  left:10%;
  width:0;
  height:0;
  border-left:100px solid transparent;
  border-right:100px solid transparent;
  border-bottom:120px solid #7f8c8d;
  box-shadow:-8px -8px 0 0 #95a5a6,8px -8px 0 0 #6c7a7b;
}
.cloud {
  position:absolute;
  background:#fff;
  border:2px solid #000;
  box-shadow:4px 4px 0 #000;
  border-radius:50%;
  z-index:-2;
}
.cloud:nth-child(1){width:60px;height:30px;top:50px;left:60%;}
.cloud:nth-child(2){width:80px;height:40px;top:80px;left:75%;}
.cloud:nth-child(3){width:40px;height:20px;top:40px;left:20%;}
.cloud::before,.cloud::after{content:'';position:absolute;background:inherit;border:inherit;border-radius:inherit;box-shadow:inherit;}
.cloud::before{width:100%;height:100%;top:-10px;left:15px;transform:scale(0.7);}
.cloud::after{width:100%;height:100%;top:5px;left:-10px;transform:scale(0.9);}
.flash{animation:flashAnim 0.3s;}
@keyframes flashAnim{0%{transform:scale(1);}50%{transform:scale(1.2);}100%{transform:scale(1);}}
</style>
</head>
<body>

<div id="main-container">
<div id="youtube-player">
<h2>üé∂ Nh·∫°c N·ªÅn H·ªçc T·∫≠p</h2>
<div id="youtube-frame"></div>
<div id="video-selector">
<input type="text" id="video-input" placeholder="Nh·∫≠p video ID ho·∫∑c playlist ID..."/>
<button id="load-video">Load Nh·∫°c</button>
</div>
</div>

<div id="study-area">
<div id="timer-box">
<h2>Th·ªùi Gian H·ªçc</h2>
<div id="timer">00:00:00</div>
<button id="start-button">B·∫Øt ƒê·∫ßu H·ªçc üöÄ</button>
<button id="stop-button" disabled>D·ª´ng L·∫°i üõë</button>
</div>

<div id="reward-box">
<h2>Ph·∫ßn Th∆∞·ªüng üíé</h2>
<p>Kim C∆∞∆°ng: <span id="diamond-count">0</span></p>
<p style="font-size:0.7em;">(C·ª© 10 gi√¢y h·ªçc nh·∫≠n 1 Kim C∆∞∆°ng!)</p>
</div>
</div>
</div>

<div id="pixel-scene">
<div class="cloud"></div>
<div class="cloud"></div>
<div class="cloud"></div>
</div>

<script>
let isRunning=false,intervalId,seconds=0,diamondCount=0,player;
const timerDisplay=document.getElementById('timer');
const startButton=document.getElementById('start-button');
const stopButton=document.getElementById('stop-button');
const diamondCountDisplay=document.getElementById('diamond-count');
const rewardBox=document.getElementById('reward-box');
function updateTimer(){
seconds++;
const h=String(Math.floor(seconds/3600)).padStart(2,'0');
const m=String(Math.floor((seconds%3600)/60)).padStart(2,'0');
const s=String(seconds%60).padStart(2,'0');
timerDisplay.textContent=`${h}:${m}:${s}`;
if(seconds%10===0){diamondCount++;diamondCountDisplay.textContent=diamondCount;rewardBox.classList.add('flash');setTimeout(()=>rewardBox.classList.remove('flash'),300);}
}
function startTimer(){if(isRunning)return;isRunning=true;intervalId=setInterval(updateTimer,1000);startButton.disabled=true;stopButton.disabled=false;timerDisplay.style.color='#2ecc71';if(player&&player.playVideo)player.playVideo();}
function stopTimer(){if(!isRunning)return;isRunning=false;clearInterval(intervalId);startButton.disabled=false;stopButton.disabled=true;timerDisplay.style.color='#e74c3c';if(player&&player.pauseVideo)player.pauseVideo();}
startButton.addEventListener('click',startTimer);
stopButton.addEventListener('click',stopTimer);

// YouTube IFrame
function loadYouTubeAPI(){
const tag=document.createElement('script');
tag.src="https://www.youtube.com/iframe_api";
document.body.appendChild(tag);
}
window.onYouTubeIframeAPIReady=function(){
player=new YT.Player('youtube-frame',{height:'315',width:'100%',videoId:'5qap5aO4i9A',playerVars:{controls:1,autoplay:0,modestbranding:1}});
};
loadYouTubeAPI();

// Load video/playlist b·∫±ng ID
document.getElementById('load-video').addEventListener('click',()=>{
const id=document.getElementById('video-input').value.trim();
if(!id)return;
if(id.includes('PL')){ // playlist
  player.loadPlaylist({list:id,listType:'playlist'});
}else{ // video
  player.loadVideoById(id);
}
if(isRunning)player.playVideo();
});
</script>
</body>
</html>


